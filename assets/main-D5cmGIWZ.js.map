{"version":3,"file":"main-D5cmGIWZ.js","sources":["../../src/js/api/food-api.js","../../src/js/helpers/refs.js","../../src/js/helpers/render-function.js","../../src/js/modules/products-list.js","../../src/js/modules/popular-products.js","../../src/js/modules/discount-list.js"],"sourcesContent":["import axios from 'axios';\n\nexport async function getProdcuts(page, search, category, sort) {\n  const baseURL =\n    'https://food-boutique.b.goit.study/api/products?page=1&limit=9';\n  const endPoint = '';\n  const url = baseURL + endPoint;\n\n  const params = {\n    page,\n    keyword: search,\n    category,\n    [sort]: true,\n  };\n\n  const res = await axios.get(url, { params });\n  return res.data;\n}\n\n//!================================================\n\nexport async function getProdcutsCategories() {\n  const baseURL = 'https://food-boutique.b.goit.study/';\n  const endPoint = 'api/products/categories';\n  const url = baseURL + endPoint;\n\n  const res = await axios.get(url);\n  return res.data;\n}\n//!================================================\n\nexport async function getPopularProducts() {\n  const baseURL = 'https://food-boutique.b.goit.study/';\n  const endPoint = 'api/products/popular?limit=5';\n  const url = baseURL + endPoint;\n\n  const res = await axios.get(url);\n  return res.data;\n}\n//!================================================\n\nexport async function getDiscountProducts(query) {\n  const baseURL = 'https://food-boutique.b.goit.study/';\n  const endPoint = 'api/products/discount';\n  const url = baseURL + endPoint;\n\n  const res = await axios.get(url);\n  return res.data;\n}\n\n//!================================================\n\nasync function getProductById(id) {\n  const baseURL = 'https://food-boutique.b.goit.study/';\n  const endPoint = `api/products/${id}`;\n  const url = baseURL + endPoint;\n\n  const res = await axios.get(url);\n  return res.data;\n}\n","export const refs = {\n  categoryList: document.querySelector('.js-products-categories'),\n  productsList: document.querySelector('.js-products__list'),\n  popularList: document.querySelector('.js-popular__list'),\n  discountList: document.querySelector('.js-discounts__list'),\n};\n","export function createTemplateProductCategory(category) {\n  return `<option value=\"${category}\">${category}</option>`;\n}\n\nexport function createTemplateProductCategories(categories) {\n  return categories.map(createTemplateProductCategory).join('');\n}\n//!================================================\n\nconst formatCurrency = value => {\n  const numericValue = Number(value);\n  if (!Number.isFinite(numericValue)) {\n    return '$0.00';\n  }\n  return `$${numericValue.toFixed(2)}`;\n};\n\nconst formatDiscountOldPrice = (price, discount) => {\n  const numericPrice = Number(price);\n  const numericDiscount = Number(discount);\n  if (\n    !Number.isFinite(numericPrice) ||\n    !Number.isFinite(numericDiscount) ||\n    numericDiscount <= 0 ||\n    numericDiscount >= 100\n  ) {\n    return '';\n  }\n  const oldPrice = numericPrice / (1 - numericDiscount / 100);\n  return `$${oldPrice.toFixed(2)}`;\n};\n\nexport function createTemplateProduct(product) {\n  const category = product.category || 'Unknown category';\n  const size = product.size || 'N/A';\n  const popularity = product.popularity || '—';\n  return `<li class=\"products__card\">\n  <img src=\"${product.img}\" alt=\"${product.name}\" loading=\"lazy\" />\n  <p class=\"products__price\">${formatCurrency(product.price)}</p>\n  <h3 class=\"products__name\">${product.name}</h3>\n  <p class=\"products__meta\">\n    <span>Category: <strong>${category}</strong></span>\n    <span>Size: <strong>${size}</strong></span>\n    <span>Popularity: <strong>${popularity}</strong></span>\n  </p>\n  <button class=\"btn btn--primary products__button\" type=\"button\" data-product-id=\"${product._id}\">\n    Add to cart\n  </button>\n</li>`;\n}\n\nexport function createTemplateProducts(products) {\n  return products.map(createTemplateProduct).join('');\n}\n\n//!================================================\n\nexport function createTemplatePopularProduct(product) {\n  const category = product.category || 'Unknown category';\n  const size = product.size || 'N/A';\n  const popularity = product.popularity || '—';\n  return `<li class=\"popular__card\">\n  <img src=\"${product.img}\" alt=\"${product.name}\" loading=\"lazy\" />\n  <div class=\"popular__info\">\n    <p class=\"popular__label\">${category} • Size ${size} • Pop ${popularity}</p>\n    <h3 class=\"popular__name\">${product.name}</h3>\n    <div class=\"popular__footer\">\n      <p class=\"popular__price\">${formatCurrency(product.price)}</p>\n      <button class=\"btn btn--ghost popular__button\" type=\"button\" data-product-id=\"${product._id}\">\n        Add to cart\n      </button>\n    </div>\n  </div>\n</li>`;\n}\n\nexport function createTemplatePopularProducts(products) {\n  return products.map(createTemplatePopularProduct).join('');\n}\n//!================================================\n\nexport function createTemplateDiscountProduct(product) {\n  const discount = Number(product.discount) || 0;\n  const oldPrice = formatDiscountOldPrice(product.price, discount);\n  const category = product.category || 'Special offer';\n  return `<li class=\"discounts__card\">\n    <div class=\"discounts__media\">\n      ${discount > 0 ? `<span class=\"badge discounts__badge\">-${discount}%</span>` : ''}\n      <img src=\"${product.img}\" alt=\"${product.name}\" loading=\"lazy\" />\n    </div>\n    <div class=\"discounts__info\">\n      <p class=\"discounts__label\">${category}</p>\n      <h3 class=\"discounts__name\">${product.name}</h3>\n      <div class=\"discounts__meta\">\n        <p class=\"discounts__price\">\n          ${formatCurrency(product.price)}\n          ${oldPrice ? `<span class=\"discounts__old-price\">${oldPrice}</span>` : ''}\n        </p>\n        <button class=\"btn btn--ghost discounts__button\" type=\"button\" data-product-id=\"${product._id}\">\n          Add to cart\n        </button>\n      </div>\n    </div>\n</li>`;\n}\n\nexport function createTemplateDiscountProducts(products) {\n  return products.map(createTemplateDiscountProduct).join('');\n}\n","import { getProdcuts, getProdcutsCategories } from '../api/food-api';\nimport { refs } from '../helpers/refs';\nimport {\n  createTemplateProductCategories,\n  createTemplateProducts,\n} from '../helpers/render-function';\n\ndocument.addEventListener('DOMContentLoaded', async e => {\n  const response = await getProdcutsCategories();\n  const markupByCategory = createTemplateProductCategories(response);\n  refs.categoryList.innerHTML = markupByCategory;\n});\n\ndocument.addEventListener('DOMContentLoaded', async e => {\n  const response = await getProdcuts();\n  const markupByProducts = createTemplateProducts(response.results);\n  refs.productsList.innerHTML = markupByProducts;\n});\n","import { getPopularProducts } from '../api/food-api';\nimport { refs } from '../helpers/refs';\nimport { createTemplatePopularProducts } from '../helpers/render-function';\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n  const response = await getPopularProducts();\n  const markupByPopularity = createTemplatePopularProducts(response);\n  refs.popularList.innerHTML = markupByPopularity;\n});\n","import { getDiscountProducts } from '../api/food-api';\nimport { refs } from '../helpers/refs';\nimport { createTemplateDiscountProducts } from '../helpers/render-function';\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n  const response = await getDiscountProducts();\n  const markupByDiscount = createTemplateDiscountProducts(response);\n  refs.discountList.innerHTML = markupByDiscount;\n});\n"],"names":["getProdcuts","page","search","category","sort","url","params","axios","getProdcutsCategories","getPopularProducts","getDiscountProducts","query","refs","createTemplateProductCategory","createTemplateProductCategories","categories","formatCurrency","value","numericValue","formatDiscountOldPrice","price","discount","numericPrice","numericDiscount","createTemplateProduct","product","size","popularity","createTemplateProducts","products","createTemplatePopularProduct","createTemplatePopularProducts","createTemplateDiscountProduct","oldPrice","createTemplateDiscountProducts","e","response","markupByCategory","markupByProducts","markupByPopularity","markupByDiscount"],"mappings":"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"}