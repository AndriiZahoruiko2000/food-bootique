{"version":3,"file":"index.js","sources":["../src/js/modules/products-list.js","../src/js/modules/popular-products.js","../src/js/modules/discount-list.js"],"sourcesContent":["import { getProdcuts, getProdcutsCategories } from '../api/food-api';\nimport { addToCart } from '../helpers/helpers';\nimport { saveToLs } from '../helpers/local-storage';\nimport { refs } from '../helpers/refs';\nimport {\n  createTemplateProductCategories,\n  createTemplateProducts,\n} from '../helpers/render-function';\nimport { handleModalOpenClick } from './modal';\n\ndocument.addEventListener('DOMContentLoaded', async e => {\n  const response = await getProdcutsCategories();\n  const markupByCategory = createTemplateProductCategories(response);\n  refs.categoryList.innerHTML = markupByCategory;\n});\n\ndocument.addEventListener('DOMContentLoaded', async e => {\n  const response = await getProdcuts();\n  const markupByProducts = createTemplateProducts(response.results);\n  refs.productsList.innerHTML = markupByProducts;\n});\n\nrefs.searchForm.addEventListener('submit', async e => {\n  e.preventDefault();\n  const formData = new FormData(refs.searchForm);\n  const inputName = formData.get('name');\n  const categoryName = formData.get('category');\n  const sortName = formData.get('sortName');\n  const response = await getProdcuts({\n    search: inputName,\n    category: categoryName,\n    sort: sortName,\n    page: 1,\n  });\n\n  const markupBySearch = createTemplateProducts(response.results);\n  refs.productsList.innerHTML = markupBySearch;\n});\n\nrefs.productsList.addEventListener('click', e => {\n  if (e.target.nodeName !== 'BUTTON') return;\n\n  const productId = e.target.dataset.id;\n  const hasItem = addToCart(productId);\n  console.log(hasItem);\n  if (hasItem === true) {\n    e.target.textContent = 'Remove from cart';\n  } else {\n    e.target.textContent = 'Add to cart';\n  }\n});\n\nrefs.productsList.addEventListener('click', handleModalOpenClick);\n","import { getPopularProducts } from '../api/food-api';\nimport { refs } from '../helpers/refs';\nimport { createTemplatePopularProducts } from '../helpers/render-function';\nimport { handleModalOpenClick } from './modal';\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n  const response = await getPopularProducts();\n  const markupByPopularity = createTemplatePopularProducts(response);\n  refs.popularList.innerHTML = markupByPopularity;\n});\n\nrefs.popularList.addEventListener('click', handleModalOpenClick);\n","import { getDiscountProducts } from '../api/food-api';\nimport { refs } from '../helpers/refs';\nimport { createTemplateDiscountProducts } from '../helpers/render-function';\nimport { handleModalOpenClick } from './modal';\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n  const response = await getDiscountProducts();\n  const markupByDiscount = createTemplateDiscountProducts(response);\n  refs.discountList.innerHTML = markupByDiscount;\n});\n\nrefs.discountList.addEventListener('click', handleModalOpenClick);\n"],"names":["response","getProdcutsCategories","markupByCategory","createTemplateProductCategories","refs","getProdcuts","markupByProducts","createTemplateProducts","formData","inputName","categoryName","sortName","markupBySearch","productId","hasItem","addToCart","handleModalOpenClick","getPopularProducts","markupByPopularity","createTemplatePopularProducts","getDiscountProducts","markupByDiscount","createTemplateDiscountProducts"],"mappings":"yJAUA,SAAS,iBAAiB,mBAAoB,MAAM,GAAK,CACvD,MAAMA,EAAW,MAAMC,IACjBC,EAAmBC,EAAgCH,CAAQ,EACjEI,EAAK,aAAa,UAAYF,CAChC,CAAC,EAED,SAAS,iBAAiB,mBAAoB,MAAM,GAAK,CACvD,MAAMF,EAAW,MAAMK,IACjBC,EAAmBC,EAAuBP,EAAS,OAAO,EAChEI,EAAK,aAAa,UAAYE,CAChC,CAAC,EAEDF,EAAK,WAAW,iBAAiB,SAAU,MAAM,GAAK,CACpD,EAAE,eAAc,EAChB,MAAMI,EAAW,IAAI,SAASJ,EAAK,UAAU,EACvCK,EAAYD,EAAS,IAAI,MAAM,EAC/BE,EAAeF,EAAS,IAAI,UAAU,EACtCG,EAAWH,EAAS,IAAI,UAAU,EAClCR,EAAW,MAAMK,EAAY,CACjC,OAAQI,EACR,SAAUC,EACV,KAAMC,EACN,KAAM,CACV,CAAG,EAEKC,EAAiBL,EAAuBP,EAAS,OAAO,EAC9DI,EAAK,aAAa,UAAYQ,CAChC,CAAC,EAEDR,EAAK,aAAa,iBAAiB,QAAS,GAAK,CAC/C,GAAI,EAAE,OAAO,WAAa,SAAU,OAEpC,MAAMS,EAAY,EAAE,OAAO,QAAQ,GAC7BC,EAAUC,EAAUF,CAAS,EACnC,QAAQ,IAAIC,CAAO,EACfA,IAAY,GACd,EAAE,OAAO,YAAc,mBAEvB,EAAE,OAAO,YAAc,aAE3B,CAAC,EAEDV,EAAK,aAAa,iBAAiB,QAASY,CAAoB,EC/ChE,SAAS,iBAAiB,mBAAoB,SAAY,CACxD,MAAMhB,EAAW,MAAMiB,IACjBC,EAAqBC,EAA8BnB,CAAQ,EACjEI,EAAK,YAAY,UAAYc,CAC/B,CAAC,EAEDd,EAAK,YAAY,iBAAiB,QAASY,CAAoB,ECN/D,SAAS,iBAAiB,mBAAoB,SAAY,CACxD,MAAMhB,EAAW,MAAMoB,IACjBC,EAAmBC,EAA+BtB,CAAQ,EAChEI,EAAK,aAAa,UAAYiB,CAChC,CAAC,EAEDjB,EAAK,aAAa,iBAAiB,QAASY,CAAoB"}